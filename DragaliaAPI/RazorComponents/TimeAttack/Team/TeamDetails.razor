@using DragaliaAPI.Database.Entities;
@using DragaliaAPI.Shared.Definitions.Enums;

<MudStack Spacing="4">
    @foreach (DbTimeAttackClearUnit unit in this.Units)
     {
       <MudGrid Justify="Justify.FlexStart" Spacing="0" Style="max-width: 800px">
            <MudItem xs="2" sm="2" md="1">
                <CharaIcon Chara="unit.CharaId"/>
            </MudItem>

            <MudItem xs="10" sm="3" md="2">
                <DragonIcon Dragon="unit.EquippedDragonEntityId" />
                <WeaponIcon Weapon="unit.EquipWeaponBodyId" />
            </MudItem>

            <MudItem xs="12" sm="4" md="6" lg="5">
                <AbilityCrestIcon Crest="unit.EquipCrestSlotType1CrestId1"/>
                <AbilityCrestIcon Crest="unit.EquipCrestSlotType1CrestId2"/>
                <AbilityCrestIcon Crest="unit.EquipCrestSlotType2CrestId1"/>
                <AbilityCrestIcon Crest="unit.EquipCrestSlotType2CrestId2"/>
                <AbilityCrestIcon Crest="unit.EquipCrestSlotType3CrestId1"/>
                <AbilityCrestIcon Crest="unit.EquipCrestSlotType3CrestId2"/>
            </MudItem>

            <MudItem xs="6" sm="3" md="2">
                @if (unit.UnitNo == 1)
                {
                    @if (unit.EditSkill1CharaId == 0)
                    {
                        <WeaponSkillIcon Weapon="unit.EquipWeaponBodyId" />
                    }
                    else
                    {
                        <SharedSkillIcon Chara="unit.EditSkill1CharaId" />
                    }
                    <SharedSkillIcon Chara="unit.EditSkill2CharaId" />
                }
            </MudItem>
        </MudGrid>
    }
</MudStack>

@code
{
    [Parameter]
    public IEnumerable<DbTimeAttackClearUnit> Units { get; set; } = Enumerable.Empty<DbTimeAttackClearUnit>();
}
